<div
  class="ngx-autocomplete"
  (window:resize)="onWindowResize()"
  (window:click)="onWindowClick($event)"
>
  <input
    #autocompleteInput
    type="text"
    name="{{ inputName ? inputName : '' }}"
    id="{{ inputId ? inputId : '' }}"
    class="ngx-autocomplete-input"
    (click)="onFocusIn(true)"
    (focusin)="onFocusIn()"
    (keyup.escape)="onFocusOut()"
    (keydown.arrowDown)="activeIndex(0)"
    [placeholder]="placeholder"
    [formControl]="autocompleteControl"
    autocomplete="off"
  />
  <div
    class="ngx-autocomplete-container"
    [hidden]="isAutocompleted() || !isFocused"
  >
    <div
      #autocompleteOption
      *ngFor="let option of options; let i = index"
      class="ngx-autocomplete-option"
      [tabIndex]="optionIndex === i ? 0 : -1"
      [class.ngx-autocomplete-option-active]="optionIndex === i"
      [style.width.px]="autocompleteInputWidth"
      (keyup.escape)="onFocusOut()"
      (mouseenter)="activeIndex(i)"
      (keydown.arrowDown)="nextIndex()"
      (keydown.arrowUp)="previousIndex()"
      (click)="selectOption(option)"
      (keyup.enter)="selectOption(option)"
      autofocus
    >
      {{ optionPropertyAccessor(option) }}
    </div>
  </div>
</div>
